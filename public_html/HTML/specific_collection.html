<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <title>Specific Collection — GoodCollections</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Google Font -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">

    <!-- Global & Page Styles -->
    <link rel="stylesheet" href="../CSS/general.css" />
    <link rel="stylesheet" href="../CSS/specific_collection.css" />

    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
</head>

<body>
    <div id="content">
        <!-- ===============================
        🔹 NAVIGATION BAR (kept consistent)
        =============================== -->
        <header>
            <nav class="navbar">
                <div class="nav-left">
                    <a href="home_page.html" class="logo">
                        <i class="bi bi-collection me-2"></i> GoodCollections
                    </a>
                </div>

                <div class="nav-right">
                    <a href="all_collections.html" class="nav-link" aria-current="page">
                        <i class="bi bi-box-seam-fill me-1"></i> Collections
                    </a>

                    <a href="event_page.html" class="nav-link">
                        <i class="bi bi-calendar-event-fill me-1"></i> Events
                    </a>

                    <a href="team_page.html" class="nav-link">
                        <i class="bi bi-people-fill me-1"></i> About Us
                    </a>

                    <!-- Login dropdown -->
                    <div class="dropdown profile-dropdown">
                        <button class="dropbtn profile-btn">
                            <i class="bi bi-person-circle me-1"></i> Log In ▾
                        </button>
                        <div class="dropdown-content profile-menu"></div>
                    </div>

                    <!-- Search -->
                    <div class="search-wrapper">
                        <i class="bi bi-search search-icon"></i>
                        <input type="search" class="search-bar" placeholder="Search..." />
                    </div>
                </div>
            </nav>
        </header>

        <!-- ===============================
         🔹 MAIN CONTENT
        =============================== -->
        <main>
            <!-- 🔹 Breadcrumb (no JS change; optional visual context) -->
            <nav class="breadcrumb-nav" aria-label="Breadcrumb">
                <a href="home_page.html">Home</a>
                <span>/</span>
                <a href="all_collections.html">Collections</a>
                <span>/</span>
                <span id="collection-breadcrumb-name">Collection</span>
            </nav>

            <!-- 🔹 Page Title (filled by JS) -->
            <h1 id="collection-title" class="page-title">Collection</h1>

            <!-- ===============================
           🔹 COLLECTION OVERVIEW CARD
            =============================== -->
            <section class="collection-hero">
                <div id="collection-meta">
                    <!-- Owner photo -->
                    <img id="owner-photo" src="../images/user.jpg" alt="Owner photo">

                    <!-- Main metadata (populated by JS) -->
                    <div id="meta-text">
                        <p>
                            <strong>Owner:</strong>
                            <span id="owner-name">—</span>
                        </p>
                        <p>
                            <strong>Created:</strong>
                            <span id="creation-date">—</span>
                        </p>
                        <p>
                            <strong>Type:</strong>
                            <span id="type">-</span>
                        </p>
                        <p>
                            <strong>Items:</strong>
                            <span id="items-count">-</span>
                        </p>
                        <p id="description-line">
                            <strong>Description:</strong>
                            <span id="description">-</span>
                        </p>

                    </div>
                </div>
            </section>

            <!-- ===============================
           🔹 ACTION BUTTONS
            =============================== -->
            <section id="buttons-bar">
                <!-- Back button (history-based, no extra JS) -->
                <a href="javascript:history.back()" class="explore-btn ghost">
                    <i class="bi bi-arrow-left" aria-hidden="true"></i>
                    Back to Collections
                </a>

                <!-- Edit current collection -->
                <button id="edit-collection" class="explore-btn" data-requires-login>
                    <i class="bi bi-pencil-square me-1" aria-hidden="true"></i>
                    Edit Collection
                </button>

                <!-- Add item to this collection -->
                <button id="add-item" class="explore-btn success" data-requires-login>
                    <i class="bi bi-plus-circle me-1" aria-hidden="true"></i>
                    Add Item
                </button>
            </section>

            <!-- ===============================
           🔹 ITEMS GRID (filled by JS)
      =============================== -->
            <section class="collection-container" id="collection-items"></section>

            <!-- ===============================
           🔹 RELATED EVENTS
            =============================== -->
            <section class="collection-events">
                <h2 class="section-subtitle">Collection Events</h2>
                <div id="collection-events" class="collection-events-list">
                    <p class="notice-message">Loading linked events...</p>
                </div>
            </section>
        </main>
    </div>

    <!-- ===============================
       🔹 MODAL: ADD / EDIT ITEM
       =============================== -->
    <div id="item-modal" class="modal">
        <div class="modal-content">
            <span id="close-modal" class="close">&times;</span>
            <h2 id="modal-title">Add Item</h2>

            <form id="item-form">
                <input type="hidden" id="item-id">

                <label for="item-name">Name:</label>
                <input type="text" id="item-name" required>

                <label for="item-importance">Importance:</label>
                <input type="text" id="item-importance" required>

                <label for="item-weight">Weight (g):</label>
                <input type="number" id="item-weight" step="0.01">

                <label for="item-price">Price (€):</label>
                <input type="number" id="item-price" step="0.01" required>

                <label for="item-date">Acquisition Date:</label>
                <input type="date" id="item-date">

                <label for="item-image">Image (URL):</label>
                <input type="text" id="item-image" placeholder="../images/default.jpg">

                <label for="item-collections">Collections:</label>
                <select id="item-collections" name="item-collections" multiple required></select>
                <small class="form-hint">
                    Hold Ctrl (Windows) or Cmd (Mac) to select multiple collections.
                </small>

                <div class="modal-actions crud-controls">
                    <button type="submit" class="explore-btn">
                        <i class="bi bi-save me-1" aria-hidden="true"></i> Save
                    </button>
                    <button type="button" id="cancel-modal" class="explore-btn danger delete-btn">
                        Cancel
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- ===============================
       🔹 MODAL: EDIT COLLECTION
       =============================== -->
    <div id="collection-modal" class="modal">
        <div class="modal-content">
            <span class="close-btn" id="close-collection-modal">&times;</span>
            <h2 id="collection-modal-title">Edit Collection</h2>

            <form id="form-collection">
                <input type="hidden" id="collection-id" />

                <label for="col-name">Name:</label>
                <input type="text" id="col-name" name="col-name" required />

                <label for="col-summary">Summary:</label>
                <textarea id="col-summary" name="col-summary" required></textarea>

                <label for="col-description">Full Description:</label>
                <textarea id="col-description" name="col-description"></textarea>

                <label for="col-image">Image (URL):</label>
                <input type="text" id="col-image" name="col-image" placeholder="../images/default.jpg" />

                <label for="col-type">Type:</label>
                <input type="text" id="col-type" name="col-type" required />

                <div class="modal-actions">
                    <button type="submit" class="explore-btn">
                        <i class="bi bi-save me-1" aria-hidden="true"></i> Save
                    </button>
                    <button type="button" id="cancel-collection-modal" class="explore-btn danger">
                        Cancel
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- ===============================
       🔹 FOOTER (unchanged)
       =============================== -->
    <footer>
        <div class="footer-content">
            <p>
                Made with <span class="heart">❤️</span> by
                <a href="https://github.com/mfvc-campinho/EIS_2526-G03_MEGI" target="_blank" rel="noopener noreferrer">
                    <i class="bi bi-github" aria-hidden="true"></i>
                    EIS_2526-G03_MEGI
                </a>
            </p>

            <div class="footer-links">
                <a href="home_page.html">Home Page</a>
                <a href="all_collections.html">Collections</a>
                <a href="event_page.html">Events</a>
                <a href="team_page.html">About Us</a>
                <a href="user_page.html">User Profile</a>
            </div>
        </div>
    </footer>

    <!-- ===============================
       🔹 SCRIPTS (same IDs, same behavior)
       =============================== -->
    <div id="forgot-password-modal" class="modal">
        <div class="modal-content">
            <span class="close-btn" id="close-forgot-modal">&times;</span>
            <h2>Forgot Password</h2>
            <form id="form-forgot-password">
                <p>Enter your email address and we'll send you a link to reset your password.</p>
                <label for="forgot-email">Email:</label>
                <input type="email" id="forgot-email" name="forgot-email" required />
                <div class="modal-actions">
                    <button type="submit" class="save-btn">Send Reset Link</button>
                </div>
            </form>
        </div>
    </div>

    <div id="add-account-modal" class="modal">
        <div class="modal-content">
            <span class="close-btn" id="close-account-modal">&times;</span>
            <h2>Create New Account</h2>
            <form id="form-add-account">
                <label for="acc-name">Username:</label>
                <input type="text" id="acc-name" name="acc-name" required />
                <label for="acc-email">Email:</label>
                <input type="email" id="acc-email" name="acc-email" required />
                <label for="acc-password">Password:</label>
                <input type="password" id="acc-password" name="acc-password" required />
                <label for="acc-password-confirm">Confirm Password:</label>
                <input type="password" id="acc-password-confirm" name="acc-password-confirm" required />
                <div class="modal-actions">
                    <button type="submit" class="save-btn">Create Account</button>
                </div>
            </form>
        </div>
    </div>
    <script src="../JS/app-data.js"></script>
    <script src="../JS/app-users.js"></script>
    <script src="../JS/app-items.js"></script>
    <script src="../JS/app-loader.js"></script>
</body>

</html>