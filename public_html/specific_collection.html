<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Specific Collection</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="collection.css" />
</head>

<body>
  <!-- ===============================
       üîπ FULLSCREEN LOADER
  =============================== -->
  <div id="loader">
    <div class="spinner"></div>
  </div>

  <!-- ===============================
       üîπ MAIN CONTENT
  =============================== -->
  <div id="content">
    <!-- ===============================
         üîπ HEADER
    =============================== -->
    <header class="collection-header">
      <a href="collection_page.html" class="back-btn">Back</a>
      <h1 id="collection-title">Loading...</h1>
    </header>

    <!-- ===============================
         üîπ COLLECTION INFO
    =============================== -->
    <section id="collection-info" class="collection-info-section">
      <img id="owner-photo" src="" alt="Owner Photo" class="owner-photo" />
      <div class="collection-meta">
        <p><strong>Owner:</strong> <span id="owner-name"></span></p>
        <p><strong>Created:</strong> <span id="creation-date"></span></p>
      </div>
    </section>

    <!-- ===============================
         üîπ ACTION BUTTONS
    =============================== -->
    <section class="collection-controls">
      <button id="add-item" class="btn add-btn">Adicionar Item</button>
    </section>

    <!-- ===============================
         üîπ ITEMS GRID
    =============================== -->
    <main class="container">
      <div id="collection-items" class="items-grid"></div>
    </main>

    <!-- ===============================
         üîπ MODAL
    =============================== -->
    <div id="item-modal" class="modal">
      <div class="modal-content">
        <span id="close-modal" class="close-btn">&times;</span>
        <h2 id="modal-title">Adicionar Item</h2>

        <form id="item-form">
          <label>T√≠tulo:</label>
          <input type="text" id="item-title" required />

          <label>Descri√ß√£o:</label>
          <textarea id="item-description" required></textarea>

          <label>Imagem (URL):</label>
          <input type="text" id="item-image" />

          <label>Valor (‚Ç¨):</label>
          <input type="number" id="item-value" required />

          <label>Data adicionada:</label>
          <input type="date" id="item-date" />

          <label>Raridade:</label>
          <input type="text" id="item-rarity" />

          <label>Condi√ß√£o:</label>
          <input type="text" id="item-condition" />

          <div class="modal-actions">
            <button type="submit" class="save-btn">Guardar</button>
            <button type="button" id="cancel-modal" class="cancel-btn">Cancelar</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- ===============================
       üîπ SCRIPTS
  =============================== -->
  <script src="script.js"></script>

  <script>
    // ==========================
    // üîπ LOADER LOGIC
    // ==========================
    window.addEventListener("load", () => {
      const loader = document.getElementById("loader");
      const content = document.getElementById("content");

      // Smooth fade-out
      setTimeout(() => {
        loader.classList.add("hidden");
        content.style.opacity = "1";
      }, 400);
    });

    // üîπ Show loader between page navigations
    document.querySelectorAll("a[href]").forEach(link => {
      link.addEventListener("click", e => {
        const href = link.getAttribute("href");
        if (href && !href.startsWith("#") && !link.target) {
          e.preventDefault();
          const loader = document.getElementById("loader");
          const content = document.getElementById("content");
          content.style.opacity = "0";
          loader.classList.remove("hidden");
          setTimeout(() => {
            window.location.href = href;
          }, 500);
        }
      });
    });
  </script>
</body>
</html>
